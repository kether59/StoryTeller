apiVersion: v1
kind: Namespace
metadata:
  name: storyteller

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: storyteller-config
  namespace: storyteller
data:
  cors-origins: '["*"]'
  log-level: "info"

---
apiVersion: v1
kind: Secret
metadata:
  name: storyteller-secrets
  namespace: storyteller
type: Opaque
stringData:
  # SQLite (pour développement)
  database-url: "sqlite:///./data/storyteller.db"

  # PostgreSQL (pour production - à modifier)
  # database-url: "postgresql://storyteller:CHANGE_ME@postgres-service:5432/storyteller"

---
# Secret pour Docker registry privé (si nécessaire)
apiVersion: v1
kind: Secret
metadata:
  name: docker-registry-secret
  namespace: storyteller
type: kubernetes.io/dockerconfigjson
data:
  # Générer avec: kubectl create secret docker-registry docker-registry-secret \
  #   --docker-server=your-registry.com \
  #   --docker-username=your-username \
  #   --docker-password=your-password \
  #   --docker-email=your-email \
  #   --dry-run=client -o yaml
  .dockerconfigjson: eyJhdXRocyI6e319